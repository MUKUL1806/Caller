(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){e.exports=n(187)},121:function(e,t,n){},159:function(e,t){},177:function(e,t){},179:function(e,t){},187:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),l=(n(121),n(106)),o=n(23),u=n(54),m=n(229),s=n(225),d=n(226),g=n(219),f=n(228),h=n(227),p=n(99),v=n.n(p),E=n(223),b=n(224),w=n(94),y=n(95),j=n(108),x=n(105),O=function(e){Object(j.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).state={date:new Date},a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.setState({date:new Date})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return r.a.createElement(g.a,{variant:"h6",align:"right"},this.state.date.toLocaleTimeString())}}]),n}(a.Component);function I(){return r.a.createElement("div",null,r.a.createElement(E.a,{style:{height:"50px",weidth:"50px"},position:"static"},r.a.createElement(b.a,null,r.a.createElement(g.a,{variant:"h6"},r.a.createElement("img",{style:{height:"50px",width:"50px",borderRadius:"0.5rem",marginTop:".8rem"},src:"https://s3.amazonaws.com/ionic-marketplace/video-and-text-chat-app-backend/icon.png",alt:"My logo"})),r.a.createElement("div",{style:{paddingLeft:"1.2rem"}},r.a.createElement(O,null)))))}var k=function(e){var t=r.a.useState(""),n=Object(u.a)(t,2),a=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(s.a,null,r.a.createElement(d.a,{container:!0,justify:"center",alignItems:"center",spacing:6,style:{minHeight:"100vh"}},r.a.createElement(d.a,{item:!0,sm:12,md:5},r.a.createElement(d.a,{container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(d.a,{item:!0,sm:12},r.a.createElement(g.a,{variant:"h4",component:"h2",gutterBottom:!0},"Premium video meetings.",r.a.createElement("br",null),"Now free for everyone.")),r.a.createElement(d.a,{item:!0,sm:12},r.a.createElement(g.a,{variant:"subtitle1",style:{color:"grey"}},"We re-engineered the service we built for secure business meetings, Google Meet, to make it free and available for all.",r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(d.a,{item:!0,sm:4},r.a.createElement(f.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(v.a,null),onClick:function(){!function(){var t=Object(m.a)();e.history.push("/room/".concat(t))}()},fullWidth:!0},"Meeting")),r.a.createElement(d.a,{item:!0,sm:6},r.a.createElement(h.a,{id:"outlined-basic",placeholder:"Enter a code",variant:"outlined",size:"small",value:a,onChange:function(e){i(e.target.value)},fullWidth:!0})),r.a.createElement(d.a,{item:!0,sm:2},""==a?r.a.createElement(r.a.Fragment,null):r.a.createElement(f.a,{color:"primary",onClick:function(){e.history.push("/room/".concat(a))}},"Join")),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement("hr",null)))),r.a.createElement(d.a,{item:!0,sm:12,md:7},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement("div",{style:{boxShadow:"0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149)",borderRadius:".5rem"}},r.a.createElement("img",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem",margin:"0.4rem"},src:"https://www.gstatic.com/meet/google_meet_marketing_ongoing_meeting_grid_427cbb32d746b1d0133b898b50115e96.jpg"})))))))},D=n(107),W=n(63),R=n(100),S=n.n(R),M=n(64),_=n.n(M),C=n(65);function B(){var e=Object(W.a)(["\n    height: 40%;\n    width: 50%;\n"]);return B=function(){return e},e}function H(){var e=Object(W.a)(["\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n"]);return H=function(){return e},e}var J=C.a.div(H()),P=C.a.video(B()),T=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),r.a.createElement(P,{playsInline:!0,autoPlay:!0,ref:t})},z={height:window.innerHeight/2,width:window.innerWidth/2},F=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),i=n[0],c=n[1],l=Object(a.useRef)(),o=Object(a.useRef)(),m=Object(a.useRef)([]),s=e.match.params.roomID;return Object(a.useEffect)((function(){l.current=S.a.connect("/"),navigator.mediaDevices.getUserMedia({video:z,audio:!0}).then((function(e){o.current.srcObject=e,l.current.emit("join room",s),l.current.on("all users",(function(t){var n=[];t.forEach((function(t){var a=function(e,t,n){var a=new _.a({initiator:!0,trickle:!1,stream:n});return a.on("signal",(function(n){l.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),a}(t,l.current.id,e);m.current.push({peerID:t,peer:a}),n.push(a)})),c(n)})),l.current.on("user joined",(function(t){var n=function(e,t,n){var a=new _.a({initiator:!1,trickle:!1,stream:n});return a.on("signal",(function(e){l.current.emit("returning signal",{signal:e,callerID:t})})),a.signal(e),a}(t.signal,t.callerID,e);m.current.push({peerID:t.callerID,peer:n}),c((function(e){return[].concat(Object(D.a)(e),[n])}))})),l.current.on("receiving returned signal",(function(e){m.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),r.a.createElement(J,null,r.a.createElement(P,{muted:!0,ref:o,autoPlay:!0,playsInline:!0}),i.map((function(e,t){return r.a.createElement(T,{key:t,peer:e})})))};var L=function(){return r.a.createElement(l.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/Caller",exact:!0,component:k}),r.a.createElement(o.a,{path:"/room/:roomID",component:F})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.a0489db4.chunk.js.map