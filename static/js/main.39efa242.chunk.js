(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{136:function(e,t,n){},170:function(e,t){},187:function(e,t){},189:function(e,t){},197:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(0),r=n.n(i),s=n(10),a=n.n(s),o=(n(136),n(119)),j=n(11),l=n(47),d=n(241),m=n(235),b=n(236),h=n(229),u=n(237),x=n(240),O=n(106),g=n.n(O),f=n(233),p=n(234),v=n(101),y=n(102),w=n(121),I=n(118),k=function(e){Object(w.a)(n,e);var t=Object(I.a)(n);function n(e){var c;return Object(v.a)(this,n),(c=t.call(this,e)).state={date:new Date},c}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.setState({date:new Date})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return Object(c.jsx)(h.a,{variant:"h6",align:"right",children:this.state.date.toLocaleTimeString()})}}]),n}(i.Component);function R(){return Object(c.jsx)("div",{children:Object(c.jsx)(f.a,{style:{height:"50px",weidth:"50px"},position:"static",children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(h.a,{variant:"h6",children:Object(c.jsx)("img",{style:{height:"50px",width:"50px",borderRadius:"0.5rem",marginTop:".8rem"},src:"https://s3.amazonaws.com/ionic-marketplace/video-and-text-chat-app-backend/icon.png",alt:"My logo"})}),Object(c.jsxs)("div",{children:["\xa0\xa0\xa0\xa0\xa0",Object(c.jsx)("a",{href:"https://fontmeme.com/hindi/",children:Object(c.jsx)("img",{src:"https://fontmeme.com/permalink/210105/124cc05758940eb11cda869fcfe80ccd.png",alt:"hindi",border:"0"})})]}),Object(c.jsx)("div",{style:{paddingLeft:"1.2rem"},children:Object(c.jsx)(k,{})})]})})})}var D=function(e){var t=r.a.useState(""),n=Object(l.a)(t,2),i=n[0],s=n[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R,{}),Object(c.jsx)(m.a,{children:Object(c.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:6,style:{minHeight:"100vh"},children:[Object(c.jsx)(b.a,{item:!0,sm:12,md:5,children:Object(c.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(c.jsxs)(b.a,{item:!0,sm:12,children:[Object(c.jsxs)(h.a,{variant:"h4",component:"h2",gutterBottom:!0,children:[Object(c.jsx)("a",{href:"https://fontmeme.com/hindi/",children:Object(c.jsx)("img",{src:"https://fontmeme.com/permalink/210105/969ea6d61fc59fdf9fa681c5f4f56a23.png",alt:"hindi",border:"0"})}),Object(c.jsx)("br",{})]}),Object(c.jsxs)(h.a,{variant:"h4",component:"h2",gutterBottom:!0,children:["Premium video meetings.",Object(c.jsx)("br",{}),"Now free for everyone."]})]}),Object(c.jsx)(b.a,{item:!0,sm:12,children:Object(c.jsxs)(h.a,{variant:"subtitle1",style:{color:"grey"},children:["We re-engineered the service we built for secure business meetings, Google Meet, to make it free and available for all.",Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})}),Object(c.jsx)(b.a,{item:!0,sm:4,children:Object(c.jsx)(u.a,{variant:"contained",color:"primary",endIcon:Object(c.jsx)(g.a,{}),onClick:function(){!function(){var t=Object(d.a)();e.history.push("/joinRoom/".concat(t))}()},fullWidth:!0,children:"Meeting"})}),Object(c.jsx)(b.a,{item:!0,sm:6,children:Object(c.jsx)(x.a,{id:"outlined-basic",placeholder:"Enter a code",variant:"outlined",size:"small",value:i,onChange:function(e){s(e.target.value)},fullWidth:!0})}),Object(c.jsx)(b.a,{item:!0,sm:2,children:""==i?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)(u.a,{color:"primary",onClick:function(){e.history.push("/joinRoom/".concat(i))},children:"Join"})}),Object(c.jsxs)(b.a,{item:!0,xs:12,children:[Object(c.jsx)("br",{}),Object(c.jsx)("hr",{})]})]})}),Object(c.jsx)(b.a,{item:!0,sm:12,md:7,children:Object(c.jsx)(b.a,{item:!0,xs:12,children:Object(c.jsx)("div",{style:{boxShadow:"0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149)",borderRadius:".5rem"},children:Object(c.jsx)("img",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem",margin:"0.4rem"},src:"https://www.gstatic.com/meet/google_meet_marketing_ongoing_meeting_grid_427cbb32d746b1d0133b898b50115e96.jpg"})})})})]})})]})},W=n(120),C=n(107),S=n(108),_=n.n(S),M=n(68),E=n.n(M),H=n(113),B=n(238),F=n(239),z=n(112),J=n.n(z),N=n(109),P=n.n(N),T=n(111),U=n.n(T),L=n(110),A=n.n(L),G=n(69),$=(n(67),function(e){var t=e.addnewmsg,n=e.r_msg;return Object(i.useEffect)((function(){Object(G.addResponseMessage)(n)}),[n]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(G.Widget,{handleNewUserMessage:function(e){console.log("New message incoming! ".concat(e)),t(e)},title:"Caller",subtitle:"Start Chat"})})})}),q=function(e){var t=e.addnewmsg,n=e.r_msg;return Object(c.jsx)(B.a,{style:{position:"fixed",left:"0",bottom:"0",right:"0",width:"100%"},children:Object(c.jsx)(m.a,{children:Object(c.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(c.jsxs)(b.a,{item:!0,sm:5,md:5,justify:"center",alignItems:"center",spacing:0,children:[Object(c.jsx)(F.a,{style:{backgroundColor:"red",color:"white"},children:Object(c.jsx)(P.a,{})}),"\xa0\xa0\xa0\xa0\xa0",Object(c.jsx)(F.a,{style:{color:"Red"},children:Object(c.jsx)(A.a,{})}),"\xa0\xa0\xa0\xa0\xa0",Object(c.jsx)(F.a,{style:{backgroundColor:"red",color:"white"},children:Object(c.jsx)(U.a,{})})]}),Object(c.jsxs)(b.a,{item:!0,sm:3,md:3,justify:"Right",alignItems:"Right",spacing:0,children:[Object(c.jsxs)(u.a,{children:[" ",Object(c.jsx)(J.a,{style:{height:"30px",width:"60px"}}),"  "]}),Object(c.jsx)($,{addnewmsg:t,r_msg:n})]})]})})})};function K(){var e=Object(C.a)(["\n\nmarginTop :0px;\n    position:Sticky;\n    bottom:0;\n    zIndex:999;\n\n"]);return K=function(){return e},e}H.a.div(K());var Q=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[e.peer]),Object(c.jsx)("video",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem"},playsInline:!0,autoPlay:!0,ref:t})},V={height:window.innerHeight/2,width:window.innerWidth/2},X=function(e){var t=Object(i.useState)([]),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(i.useState)("Welcome to Chat!"),o=Object(l.a)(a,2),j=o[0],d=o[1],h=Object(i.useRef)(),u=Object(i.useRef)(),x=Object(i.useRef)([]),O=e.match.params.roomID;return Object(i.useEffect)((function(){h.current=_.a.connect("/"),navigator.mediaDevices.getUserMedia({video:V,audio:!0}).then((function(e){u.current.srcObject=e,h.current.emit("join room",O),h.current.on("all users",(function(t){var n=[];t.forEach((function(t){var c=function(e,t,n){var c=new E.a({initiator:!0,trickle:!1,stream:n});return c.on("signal",(function(n){h.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),c}(t,h.current.id,e);x.current.push({peerID:t,peer:c}),n.push(c)})),s(n)})),h.current.on("user joined",(function(t){var n=function(e,t,n){var c=new E.a({initiator:!1,trickle:!1,stream:n});return c.on("signal",(function(e){h.current.emit("returning signal",{signal:e,callerID:t})})),c.signal(e),c}(t.signal,t.callerID,e);x.current.push({peerID:t.callerID,peer:n}),s((function(e){return[].concat(Object(W.a)(e),[n])}))})),h.current.on("receiving returned signal",(function(e){x.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[O]),h.current&&h.current.on("new message",(function(e){e.roomID===O&&d(e.message)})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R,{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)(m.a,{children:[Object(c.jsxs)(b.a,{container:!0,children:[Object(c.jsx)(b.a,{item:!0,sm:12,md:4,children:Object(c.jsx)("video",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem"},muted:!0,ref:u,autoPlay:!0,playsInline:!0})}),r.map((function(e,t){return Object(c.jsx)(b.a,{item:!0,sm:12,md:4,children:Object(c.jsx)("div",{children:Object(c.jsx)(Q,{peer:e},t)})})}))]}),Object(c.jsx)("footercss",{children:Object(c.jsx)(q,{addnewmsg:function(e){var t={roomID:O,msg:e};h.current.emit("new message",t)},r_msg:j})})]})]})},Y=n(117),Z=n.n(Y),ee={height:window.innerHeight/2,width:window.innerWidth/2},te=function(e){var t=e.match.params.roomID,n=Object(i.useRef)();return Object(i.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:ee,audio:!0}).then((function(e){n.current.srcObject=e}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R,{}),Object(c.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",children:[Object(c.jsx)(b.a,{item:!0,xs:12,sm:8,children:Object(c.jsxs)(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:0,children:[Object(c.jsx)(b.a,{item:!0,xs:6,style:{minHeight:"6rem"}}),Object(c.jsx)(b.a,{item:!0,xs:6,children:Object(c.jsx)("div",{children:Object(c.jsx)("video",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem"},muted:!0,ref:n,autoPlay:!0,playsInline:!0,onEnter:function(){console.log("hi")}})})})]})}),Object(c.jsxs)(b.a,{item:!0,xs:12,sm:4,children:[Object(c.jsxs)(h.a,{variant:"h4",component:"h2",gutterBottom:!0,children:["Ready to join ?",Object(c.jsx)("br",{})]}),Object(c.jsx)(u.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(c.jsx)(Z.a,{}),style:{borderRadius:"1.2rem"},onClick:function(){e.history.push("/room/".concat(t))},children:"Join"})]})]})]})};var ne=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/Caller",exact:!0,component:D}),Object(c.jsx)(j.a,{path:"/joinRoom/:roomID",component:te}),Object(c.jsx)(j.a,{path:"/room/:roomID",component:X})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.39efa242.chunk.js.map