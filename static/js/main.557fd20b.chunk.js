(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{204:function(e,t,n){},233:function(e,t){},257:function(e,t){},259:function(e,t){},307:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n(0),r=n.n(c),a=n(13),s=n.n(a),o=(n(204),n(102)),j=n(20),l=n(39),d=n(362),u=n(354),b=n(355),h=n(81),m=n(356),x=n(361),O=n(170),g=n.n(O),p=n(352),f=n(353),v=n(165),y=n(166),w=n(187),I=n(186),k=function(e){Object(w.a)(n,e);var t=Object(I.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).state={date:new Date},i}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.setState({date:new Date})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return Object(i.jsx)(h.a,{variant:"h6",align:"right",children:this.state.date.toLocaleTimeString()})}}]),n}(c.Component);function D(){return Object(i.jsx)("div",{children:Object(i.jsx)(p.a,{style:{height:"50px",weidth:"50px"},position:"static",children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(h.a,{variant:"h6",children:Object(i.jsx)("img",{style:{height:"50px",width:"50px",borderRadius:"0.5rem",marginTop:".8rem"},src:"https://s3.amazonaws.com/ionic-marketplace/video-and-text-chat-app-backend/icon.png",alt:"My logo"})}),Object(i.jsx)("div",{style:{paddingLeft:"1.2rem"},children:Object(i.jsx)(k,{})})]})})})}var S=function(e){var t=r.a.useState(""),n=Object(l.a)(t,2),c=n[0],a=n[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(D,{}),Object(i.jsx)(u.a,{children:Object(i.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:6,style:{minHeight:"100vh"},children:[Object(i.jsx)(b.a,{item:!0,sm:12,md:5,children:Object(i.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(i.jsx)(b.a,{item:!0,sm:12,children:Object(i.jsxs)(h.a,{variant:"h4",component:"h2",gutterBottom:!0,children:["Premium video meetings.",Object(i.jsx)("br",{}),"Now free for everyone."]})}),Object(i.jsx)(b.a,{item:!0,sm:12,children:Object(i.jsxs)(h.a,{variant:"subtitle1",style:{color:"grey"},children:["We re-engineered the service we built for secure business meetings, Google Meet, to make it free and available for all.",Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]})}),Object(i.jsx)(b.a,{item:!0,sm:4,children:Object(i.jsx)(m.a,{variant:"contained",color:"primary",endIcon:Object(i.jsx)(g.a,{}),onClick:function(){!function(){var t=Object(d.a)();e.history.push("/room/".concat(t))}()},fullWidth:!0,children:"Meeting"})}),Object(i.jsx)(b.a,{item:!0,sm:6,children:Object(i.jsx)(x.a,{id:"outlined-basic",placeholder:"Enter a code",variant:"outlined",size:"small",value:c,onChange:function(e){a(e.target.value)},fullWidth:!0})}),Object(i.jsx)(b.a,{item:!0,sm:2,children:""==c?Object(i.jsx)(i.Fragment,{}):Object(i.jsx)(m.a,{color:"primary",onClick:function(){e.history.push("/room/".concat(c))},children:"Join"})}),Object(i.jsxs)(b.a,{item:!0,xs:12,children:[Object(i.jsx)("br",{}),Object(i.jsx)("hr",{})]})]})}),Object(i.jsx)(b.a,{item:!0,sm:12,md:7,children:Object(i.jsx)(b.a,{item:!0,xs:12,children:Object(i.jsx)("div",{style:{boxShadow:"0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149)",borderRadius:".5rem"},children:Object(i.jsx)("img",{style:{maxHeight:"100%",maxWidth:"98%",borderRadius:".5rem",margin:"0.4rem"},src:"https://www.gstatic.com/meet/google_meet_marketing_ongoing_meeting_grid_427cbb32d746b1d0133b898b50115e96.jpg"})})})})]})})]})},C=n(44),z=n(80),M=n(45),R=n(78),W=n.n(R),E=n(56),T=n.n(E),_=n(46),B=(n(137),n(360)),L=n(357),F=n(72),H=n.n(F),N=n(73),A=n.n(N),J=n(176),P=n.n(J),U=n(177),G=n.n(U),$=n(178),q=n.n($),K=n(172),Q=n(6),V=n(185),X=n(363),Y=n(358),Z=n(359),ee=n(175),te=n.n(ee),ne=n(174),ie=n.n(ne),ce=n(173),re=n.n(ce),ae=Object(Q.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(i.jsx)(V.a,Object(K.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),se=Object(Q.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.common.white,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(X.a);function oe(){var e=r.a.useState(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(L.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"white",onClick:function(e){c(e.currentTarget)},children:"Open Menu"}),Object(i.jsxs)(ae,{id:"customized-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){c(null)},children:[Object(i.jsxs)(se,{children:[Object(i.jsx)(Y.a,{children:Object(i.jsx)(re.a,{fontSize:"small"})}),Object(i.jsx)(Z.a,{primary:"Sent mail"})]}),Object(i.jsxs)(se,{children:[Object(i.jsx)(Y.a,{children:Object(i.jsx)(ie.a,{fontSize:"small"})}),Object(i.jsx)(Z.a,{primary:"Drafts"})]}),Object(i.jsxs)(se,{children:[Object(i.jsx)(Y.a,{children:Object(i.jsx)(te.a,{fontSize:"small"})}),Object(i.jsx)(Z.a,{primary:"Inbox"})]})]})]})}var je=n(101),le=(n(99),function(e){console.log("New message incoming! ".concat(e))}),de=function(){return Object(c.useEffect)((function(){}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(je.Widget,{handleNewUserMessage:le,title:"D Caller",subtitle:"Start Chat"})})})},ue=function(){return Object(i.jsx)(B.a,{style:{position:"fixed",left:"0",bottom:"0",right:"0",width:"100%"},children:Object(i.jsx)(u.a,{children:Object(i.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(i.jsx)(b.a,{item:!0,sm:4,md:4,alignItems:"left",spacing:0,children:Object(i.jsxs)(m.a,{children:[" ",Object(i.jsx)(oe,{})," "]})}),Object(i.jsxs)(b.a,{item:!0,sm:5,md:5,justify:"center",alignItems:"center",spacing:0,children:[Object(i.jsx)(L.a,{style:{backgroundColor:"red",color:"white"},children:Object(i.jsx)(H.a,{})}),"\xa0\xa0\xa0\xa0\xa0",Object(i.jsx)(L.a,{style:{color:"Red"},children:Object(i.jsx)(P.a,{})}),"\xa0\xa0\xa0\xa0\xa0",Object(i.jsx)(L.a,{style:{backgroundColor:"red",color:"white"},children:Object(i.jsx)(A.a,{})})]}),Object(i.jsxs)(b.a,{item:!0,sm:3,md:3,justify:"Right",alignItems:"Right",spacing:0,children:[Object(i.jsxs)(m.a,{children:[" ",Object(i.jsx)(G.a,{style:{height:"30px",width:"60px"}}),"  "]}),Object(i.jsxs)(m.a,{children:[" ",Object(i.jsx)(q.a,{style:{height:"30px",width:"60px"}})," "]}),Object(i.jsx)(de,{})]})]})})})},be=n(179),he=n.n(be);function me(){return Object(i.jsx)("div",{children:Object(i.jsx)(p.a,{color:"transparent",style:{height:"50px",weidth:"50px"},position:"static",children:Object(i.jsx)(f.a,{children:Object(i.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(i.jsx)(b.a,{item:!0,sm:6,gridItemAlign:"center",spacing:0,children:Object(i.jsxs)("div",{style:{paddingLeft:"1.2rem"},children:[Object(i.jsxs)(m.a,{children:[Object(i.jsx)(he.a,{style:{color:"Black"}})," "]}),Object(i.jsx)(de,{style:{bottom:"5px"}})]})}),Object(i.jsx)(b.a,{item:!0,sm:6,alignItems:"center",spacing:0,children:Object(i.jsx)(k,{})})]})})})})}function xe(){var e=Object(M.a)(["\n    height: 350px;\n    width: 400px;\n    margin: 10px;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(M.a)(["\n\n    marginTop :0px;\n    position:Sticky;\n    top:0;\n    zIndex:999; \n"]);return Oe=function(){return e},e}function ge(){var e=Object(M.a)(["\n\nmarginTop :0px;\n    position:Sticky;\n    bottom:0;\n    zIndex:999;\n\n"]);return ge=function(){return e},e}_.a.div(ge());var pe=_.a.div(Oe()),fe=_.a.video(xe()),ve=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),Object(i.jsx)(fe,{playsInline:!0,autoPlay:!0,ref:t})},ye={height:window.innerHeight/2,width:window.innerWidth/2},we=function(e){var t,n=Object(c.useState)([]),r=Object(l.a)(n,2),a=r[0],s=r[1],o=Object(c.useRef)(),j=Object(c.useRef)(),d=Object(c.useRef)([]),u=e.match.params.roomID;return Object(c.useEffect)((function(){o.current=W.a.connect("/"),navigator.mediaDevices.getUserMedia({video:ye,audio:!0}).then((function(e){j.current.srcObject=e,o.current.emit("join room",u),o.current.on("all users",(function(t){var n=[];t.forEach((function(t){var i=function(e,t,n){var i=new T.a({initiator:!0,trickle:!1,stream:n});return i.on("signal",(function(n){o.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),i}(t,o.current.id,e);d.current.push({peerID:t,peer:i}),n.push(i)})),s(n)})),o.current.on("user joined",(function(t){var n=function(e,t,n){var i=new T.a({initiator:!1,trickle:!1,stream:n});return i.on("signal",(function(e){o.current.emit("returning signal",{signal:e,callerID:t})})),i.signal(e),i}(t.signal,t.callerID,e);d.current.push({peerID:t.callerID,peer:n}),s((function(e){return[].concat(Object(z.a)(e),[n])}))})),o.current.on("receiving returned signal",(function(e){d.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(b.a,{container:!0,spacing:1,children:[Object(i.jsxs)(b.a,(t={item:!0,sm:12,md:9,container:!0,spacing:3,alignItems:"center",justify:"center"},Object(C.a)(t,"alignItems","center"),Object(C.a)(t,"children",[Object(i.jsx)(fe,{style:{borderRadius:".5rem"},muted:!0,ref:j,autoPlay:!0,playsInline:!0}),a.map((function(e,t){return Object(i.jsx)(ve,{peer:e},t)}))]),t)),Object(i.jsx)(b.a,{item:!0,sm:12,md:3,alignItems:"right",float:"right",spacing:0,children:Object(i.jsx)(pe,{children:Object(i.jsx)(me,{})})})]}),Object(i.jsxs)("footercss",{children:[" ",Object(i.jsx)(ue,{}),"  "]})]})};var Ie=function(){return Object(i.jsx)(o.a,{children:Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{path:"/Caller",exact:!0,component:S}),Object(i.jsx)(j.a,{path:"/room/:roomID",component:we})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(306);function ke(){var e=Object(M.a)(["\n    height: 110%;\n    width: 80%;\n    \n"]);return ke=function(){return e},e}function De(){var e=Object(M.a)(["\n\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n"]);return De=function(){return e},e}_.a.div(De()),_.a.video(ke()),window.innerHeight,window.innerWidth;s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Ie,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[307,1,2]]]);
//# sourceMappingURL=main.557fd20b.chunk.js.map